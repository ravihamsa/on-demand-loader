(function(e){var t=false;var a="display",i="block",r="none",n="-webkit-transform",s="visibility",c="hidden",o="visible",l="index";var d=document,v=e.mraid,u=function(e,t){if(!t){t=d}return t.querySelector(e)},f=function(e,t,a){e.style[t]=a},p=function(e){f(e,a,i)},g=function(e){f(e,a,r)},m=function(e){f(e,s,o)},h=function(e,t){f(e,n,t)},b=function(e){f(e,s,c)},y=function(e){return d.getElementById.call(d,e)},x=function(e){return d.createElement.call(d,e)},k=function(e){return parseInt(e,10)},w=function(e){return parseFloat(e)},_=function(e,t){return e.getAttribute(t)},A=function(e){k(_(l))};var T,C,I=0,S=null;var L=null;var E=1;var Y=360;var O=null;var q,N,D;var M;var R=3;var V=1;var $=0;var H;var X;var B;var P=[];var U=false;function j(){v.close()}function z(){if(L){nt=(new Date).getTime();var e=u(L,".flipper");p(u(d,".shadow.one"));p(u(d,".shadow.two"));setTimeout(function(){h(L,"translate3d(0, -"+Y+"px,"+R+"px) scale(1)");setTimeout(function(){h(e,"rotateY(-200deg)");setTimeout(function(){h(e,"rotateY(0deg)")},800)},1e3);m(et)},500)}}var F=[];var G,J;var Q=document.body;var W=y("fullview");var Z=y("header");var K=y("deck_wrapper");var et=y("bottomdeck");var tt=0;var at;var it=0;var rt=1;var nt;function st(){if(typeof t!="undefined"&&t){var a=v.getScreenSize();J=a.width;G=a.height}else{J=e.innerWidth;G=e.innerHeight}if(J>=320&&G<=480){et.style.height="330px";et.style.top="330px";Y=330;gt=35}else if(G===568){et.style.height="400px";et.style.top="400px";Y=400;gt=35}else if(G===640){et.style.height="480px";et.style.top="490px";Y=490}Q.style.width=K.style.width=W.style.width=J+"px";K.style.height=G+"px"}function ct(e){if(e.price===undefined||e.price==0){e.price="Free"}else{e.price="$"+e.price}if(e.name.length>20){e.name=e.name.substr(0,17).concat("...")}if(!e.tags[0]){e.tags[0]=""}}function ot(e,t,a){var i=y("card");var r=x("div");var n="",s,c,o,l="",d="</div>";for(var v=0;v<items.length;v++){ct(items[v]);s=items[v];var u="";s["background_image"]=s.background_images[0];var f="";var p="full";var g=k(s["rating"]);var m=w(s["rating"])-w(g);var h=false;for(var b=0;b<5;b++){if(b<g){f+="<span class = 'star full'>&#9733;</span>"}else{if(!h&&m!==w(0)){h=true;f+="<span class = 'star half'>&#9733;</span>"}else{f+="<span class = 'star'>&#9733;</span>"}}}s["ratingstar"]=f;var _="",A=true;if(t){o="bottom"}else{if(v<=at){o="top";if(v==at||v==dt(at)){_="background-image: url('"+s.background_image+"');background-repeat:no-repeat";A=false}}else{if(v==vt(at)||v==vt(vt(at))){_="background-image: url('"+s.background_image+"');background-repeat:no-repeat";A=false}o="bottom"}}var T="";for(var b=0;b<s.background_images.length;b++){var C="src='"+s.background_images[b]+"'";T="";if(b==0){T="imgactive"}u+="<img class='smallImg "+T+"' "+C+" ontouchstart='smallImageTouchStart(event,this)'/>"}s["smallImgContent"]=u;var I="Awesome Game !!! Must Buy !!";l="<div class='flip-container'> <div class='flipper'> <div class='front'><div class='topContainer'><div class='leftContainer'><div class='appLogo' style='background-image: url("+s.icon_url+")'></div><div class='appName'>"+s.name+"</div><div class='smallName'>"+s.publisher+"</div><div class='install'></div><div class='count'>"+s.installs+"</div></div><div class='rightContainer'><div class='rating'>"+f+"</div><div class='category'>"+s.category+"</div></div></div><div class='middleContainer'><img class='backGround_img' src='"+s.background_image+"'> <div class='smallImgCont'>"+u+"</div> </div><div class='bottomContainer'><div class='info' ontouchend=deckOnTouchMove(event,this,"+v+",'left') ></div><div class='tag'>"+s.tags[0]+"</div><div class='price' ontouchend=openInstall('"+s.tracking_url+"',this)><div class='dowloadIcon'></div>  <span class='app_price'>"+s.price+"</span> Install</div></div></div><div class='back'> <div class='gradback'> <div class='topContainer'><div class='leftContainer'><div class='appLogo' style='background-image: url("+s.icon_url+")'></div><div class='appName'>"+s.name+"</div><div class='smallName'>"+s.publisher+"</div><div class='install'></div><div class='count'>"+s.installs+"</div></div><div class='rightContainer'><div class='rating'>"+f+"</div><div class='category'>"+s.category+"</div></div></div> <div class='desc-container'> <div class='desc-title'> Description </div> <div class='desc-body'> "+s.description+" </div> <div class='desc-title'> Reviews </div><div class='rating-title'> 1. Very Nice </div>  <div class='review_rating'><div class='rating_revire'> "+f+" by Anubhav 12:23:44</div> <div class='review_content'>"+I+"</div> </div>   <div class='rating-title'> 2. Very Nice </div> <div class='review_rating'><div class='rating_revire'> "+f+" by Anubhav 12:23:44 </div> <div class='review_content'>"+I+"</div></div>        </div> <div class='bottomContainer' ><div class='info' ontouchend=deckOnTouchMove(event,this,"+v+",'right') ></div><div class='price' ontouchend=openInstall('"+s.tracking_url+"',this)>  <span class='app_price'> "+s.price+"</span> Install</div></div> </div>  </div> </div> </div>";if(t){var S=x("div");S.className="card";S.setAttribute("id",idbase+(a+v));S.setAttribute("index",a+v);S.setAttribute("data-location","bottom");S.setAttribute("data-cat",s.category);S.setAttribute("ontouchstart","deckOnTouchStart(event,this)");S.setAttribute("ontouchend","deckOnTouchEnd(event,this)");S.setAttribute("ontouchmove","deckOnTouchMove(event,this)");S.innerHTML=l;et.appendChild(S)}else{n+="<div ontouchstart='deckOnTouchStart(event,this)' ontouchend='deckOnTouchEnd(event,this)' ontouchmove='deckOnTouchMove(event,this)'class='card' id='"+(idbase+v)+"' index="+v+" data-location="+o+" data-cat="+s.category+" style='xvisibility:hidden;'>"+l+d}}if(!t&&n)et.innerHTML="<div class='dummy'><div class='shadow one'></div><div class='shadow two'></div></div></div>"+n}function lt(e){e.preventDefault()}function dt(e){var t=e-1;if(t<0){t=N}return t}function vt(e){var t=e+1;if(t>N){t=0}return t}function ut(e){M=et.querySelectorAll(".card");q=M.length;if(q<=0)return;D=0;N=q-1;if(e){L=M[at];X=F[at].category}}function ft(){var e=A(L);z();var t=M[vt(e)];h(t,"translate3d(0, 0px,"+R+"px) scale(.8)");var a=M[vt(vt(e))];h(a,"translate3d(0, 0px,"+V+"px) scale(.8)");var i=M[dt(e)];h(i,"translate3d(0, -"+Y+"px,"+V+"px) scale(1)")}function pt(){var e=_(L,"data-location"),t=0;var a=A(L);var i;var r=vt(a);var n=dt(a);for(var t=0;t<q;t++){i=M[t];if(t==n||t==r||t==a){i.style.visibility="visible"}else{i.style.visibility="hidden"}}var s=M[vt(a)];var c=M[vt(vt(a))];var o=M[dt(a)];var l=M[dt(dt(a))];if(e=="top"){h(L,"translate3d(0px, -"+Y+"px,"+R+"px) scale(1)");h(s,"translate3d(0, 0px,"+R+"px) scale(.8)");h(c,"translate3d(0, 0px,"+V+"px) scale(.8)");c.setAttribute("data-location","bottom");h(o,"translate3d(0, -"+Y+"px,"+V+"px) scale(1)");h(l,"translate3d(0, -"+Y+"px, "+$+"px) scale(1)")}else if(e=="bottom"){h(L,"translate3d(0px, 0px,"+R+"px) scale(.8)");h(s,"translate3d(0px, 0px,"+V+"px) scale(.8)");h(l,"translate3d(0, -"+Y+"px,"+V+"px) scale(1)");l.setAttribute("data-location","top");h(o,"translate3d(0, -"+Y+"px,"+R+"px) scale(1)");h(c,"translate3d(0, 0px,"+$+"px) scale(.8)")}}var gt=20;function mt(e){var t=A(e);var a=dt(dt(t));var i=vt(vt(t));var r=M[a].querySelector(".middleContainer img");var n=M[a].querySelector(".back");var s=M[i].querySelector(".middleContainer img");var c=M[i].querySelector(".back");var o=M[i];if(!r.style.backgroundImage){r.src=F[a]["background_images"][0];n.style.backgroundRepeat="no-repeat";var l=r.querySelectorAll("img[imgsource]"),d;for(var v=0;v<l.length;v++){d=l[v];d.setAttribute("src",_(d,"imgsource"))}}if(!s.style.backgroundImage){s.src=F[a]["background_images"][0];var l=s.querySelectorAll("img[imgsource]"),d;for(var v=0;v<l.length;v++){d=l[v];d.setAttribute("src",_(d,"imgsource"))}}}function ht(e,t){e.preventDefault();var a=_(t,"index");O=0;var i=t.intialLocation=_(t,"data-location");S=e.changedTouches[0];t.clientY=k(S.clientY);t.clientX=k(S.clientX);L=t}function bt(e,t,a,i){if(O===1){return}if(a!==undefined){t=y("card-"+a)}S=e.changedTouches[0];var r=k(S.clientY)-t.clientY,n;var s=_(t,"data-location");if(s=="top"||a===1){n=k(S.clientX)-t.clientX;var c=t.querySelector(".flipper");var o=A(L);if(n>gt||a!==undefined&&i==="left"){O=1;h(c,"rotateY(0deg)");var l=_(c,"rotateY")||0;l=k(l);var d=l-180;h(c,"rotateY("+d+"deg)");c.setAttribute("rotateY",d);var v=k(_(L.querySelector(".flipper"),"rotatey"))/180;if(v%2!==0){Et(99,{action:"details_show",label:_t(o)})}}else if(n<-gt||a!==undefined&&i==="right"){O=1;var l=_(c,"rotateY")||0;l=k(l);var d=l+180;h(c,"rotateY("+d+"deg)");c.setAttribute("rotateY",d);var v=k(_(L.querySelector(".flipper"),"rotatey"))/180;if(v%2!==0){Et(99,{action:"details_show",label:_t(o)})}}else if(r>gt){O=1;t.setAttribute("data-location","bottom");pt();var u=A(t);var f=F[u].category}else if(r>0&&r<gt){h(t,"translate3d(0px, -"+(Y-r)+"px,"+R+"px) scale(1)")}}else if(s=="bottom"){if(r<-gt){O=1;t.setAttribute("data-location","top");pt();var u=A(t);var f=F[u].category}else if(r<0&&r>-gt){h(t,"translate3d(0px, "+r+"px,"+R+"px) scale(.8)")}}}function yt(e,t){var a=A(L);if(t.intialLocation==="bottom"){a=dt(a);Et(99,{action:"card_session",value:e,label:_t(a)})}else if(t.intialLocation==="top"){a=vt(a);Et(99,{action:"card_session",value:e,label:_t(a)})}}function xt(e,t){O=0;t.finalLocation=_(t,"data-location");var a=_(t,"data-location");if(t.finalLocation!=t.intialLocation){mt(t);var i=(new Date).getTime()-nt;yt(i,t);nt=(new Date).getTime()}else if(a=="bottom"){h(t,"translate3d(0px, 0px,"+R+"px) scale(.8)")}else if(a=="top"){h(t,"translate3d(0px, -"+Y+"px,"+R+"px) scale(1)")}}function kt(e){if(e&&e.completed){U=e.completed}if(e&&e.storyboardLength>0){var t=F.length;F=F.concat(e.storyboard);P.push(e.storyboardId);tt+=e.storyboardLength;at=2,idbase="card-";U=e.completed;ot(e.storyboard,P.length!=1,t);ut(P.length===1);Ct()}}function wt(){if(U)return;var e=y("datascript");if(!e){e=x("script");e.setAttribute("id","datascript");e.setAttribute("async",true);document.body.appendChild(e)}e.src="http://heisenberg-server.wc1.inmobi.com/appdata?os=ios&usedSIds="+P.join(",")}wt();function _t(e){var t=F[e];return[rt,t.appid,X,e].join(",")}function At(e,t){if(O==1){return}if(e.target.src===undefined){return}if(_(L,"data-location")=="bottom")return;var a=L.querySelectorAll(".smallImgCont img");for(var i=0;i<a.length;i++){a[i].className=a[i].className.replace(/imgactive/,"").replace("  "," ")}t.className+=" imgactive";if(O==1){return}L.querySelector(".middleContainer img").src=e.target.src;Et(99,{action:"thumbnail_click",label:_t(A(L))})}function Tt(e,t){e.replace("$IMP_ID",Yt);e.replace("$UID",qt);e.replace("$IDA",qt);if(O==1){return}Et(8);setTimeout(function(){if(O==1){return}t.className+=" scalOpac";v.openExternal(e);t.className=t.className.replace(/scalOpac/g,"").replace("  "," ")},500)}function Ct(){p(W);B=(new Date).getTime();Et(18);st();ft()}function It(){if(typeof v.useCustomClose==="function"){v.useCustomClose(true)}if(typeof v.isViewable==="function"&&v.isViewable()){Ct()}else{v.addEventListener("viewableChange",function(e){if(e){v.removeEventListener("viewableChange",arguments.callee);Ct()}})}v.addEventListener("stateChange",function(e){if(e=="hidden"){B=((new Date).getTime()-B)/1e3;Et(3,{secs:B})}})}var St=0;function Lt(){St++;if(4!==St){if("undefined"!==typeof v){t=true;if(v.getState()==="loading"){v.addEventListener("ready",It)}else{It()}}else{setTimeout(Lt,500)}}else{Ct()}}function Et(e,t){var a={spid:"hw-P3YL4Q1JYRZ3eABld",src:"handwritten"};if(e===99||e===3){for(var i in t){if(t.hasOwnProperty(i)){a[i]=t[i]}}}else if(e===8){a["cta"]="exit",a["ctaid"]="click",a["it"]="1",a["as"]="1.0.0"}Nt(e,a)}var Yt="$first.adImpressionId";function Ot(){var e=document.documentElement.innerHTML;var t=/cocaineId\=(.+)\&extraId\=extraValue/;var a=t.exec(e),i="";if(a&&a.length>0){i=a[1]}return i}var qt=Ot();e["im_3432_recordEvent"]=function(t,a){var i=function(t,a,r){if(r<=0){return}var n=y("im_3432_clickTarget");var s=x("img");s.setAttribute("src",t);s.setAttribute("height","0");s.setAttribute("width","2");if(s["addEventListener"]!=undefined){s.addEventListener("error",function(){e.setTimeout(function(){if(a>3e5){a=3e5}i(t,a*2,r-1)},a+Math.random())},false)}};var r="http://xyz.inmobi.com/1x1";r+="?m="+t;if(a){for(var n in a){r+="&"+encodeURIComponent(n)+"="+encodeURIComponent(a[n])}}i(r,1e3,5)};var Nt=e["im_3432_recordEvent"];Lt();Et(1);Ct();e.deckOnTouchStart=ht();e.deckOnTouchMove=bt();e.deckOnTouchEnd=xt()})(window);